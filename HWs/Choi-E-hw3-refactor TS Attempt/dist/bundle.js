(()=>{"use strict";var t,e,i=Object.freeze({gain:.5,numSamples:256}),o=(new Uint8Array(i.numSamples/2),function(){function t(t,e,i,o,s){this.gradient=null,this.colorStops=[{percent:0,color:"red"},{percent:1,color:"black"}],this.r=0,this.g=0,this.b=0,this.ctx=t,this.x=e,this.y=i,this.radius=o,this.audioData=s}t.prototype.update=function(t,e,i){this.r=t,this.g=e,this.b=i;for(var o=0,s=1,a=0;a<this.audioData.length;a++)o+=this.audioData[a]/255;o/=this.audioData.length,s-=o*=.75,this.colorStops=[{percent:0,color:"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(s,")")},{percent:1,color:"black"}],this.gradient=function(t,e,i,o,s,a,h,r){for(var n=t.createRadialGradient(e,i,5,s,a,h),c=0,l=r;c<l.length;c++){var u=l[c];n.addColorStop(u.percent,u.color)}return n}(this.ctx,this.x,this.y+20,0,this.x,this.y,this.radius,this.colorStops)},t.prototype.draw=function(){this.gradient?(this.ctx.save(),this.ctx.fillStyle=this.gradient,this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()):console.warn("Gradient is not initialized. Call update() first.")}}(),function(){function t(t,e,i,o,s,a,h,r){this.eyelidOffset=0,this.ctx=t,this.topLeftX=e,this.topLeftY=i,this.bottomLeftX=o,this.bottomLeftY=s,this.shortWidth=a,this.wideWidth=h,this.audioData=r}t.prototype.update=function(){this.eyelidOffset=0;for(var t=0;t<this.audioData.length;t++)this.eyelidOffset+=this.audioData[t]/255;this.eyelidOffset/=this.audioData.length},t.prototype.draw=function(){this.ctx.save(),this.ctx.fillStyle="gray",this.ctx.translate(0,40*-this.eyelidOffset),this.ctx.beginPath(),this.ctx.moveTo(this.topLeftX,this.topLeftY),this.ctx.lineTo(this.topLeftX+this.shortWidth,this.topLeftY),this.ctx.lineTo(this.bottomLeftX+this.wideWidth,this.bottomLeftY),this.ctx.lineTo(this.bottomLeftX,this.bottomLeftY),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()}}(),{});t=function(t){o.sound1=t.audio[1].path,o.sound2=t.audio[1].path,o.sound3=t.audio[1].path,document.title=t.title,document.querySelector("#title").innerHTML=t.title,document.querySelector("#volume-slider").value=t["default-values"].volume,document.querySelector("#volume-label").innerHTML="".concat(Math.round(t["default-values"].volume/2*100));var e=document.querySelector("#volume-slider"),i=document.querySelector("#volume-label");for(var s in e.oninput=function(t){var e;e=t.target.value,undefined.gain.value=Number(e),i.innerHTML="".concat(Math.round(100*Number(t.target.value)/2))},t.audio)o["sound"+s]=t.audio[s].path;console.log(o)},(e=new XMLHttpRequest).open("GET","../data/av-data.json",!0),e.onload=function(){if(200===e.status){var i=JSON.parse(e.responseText);t(i)}else console.error("Error reading the shape data")},e.onerror=function(){console.error("Request failed")},e.send()})();
//# sourceMappingURL=bundle.js.map